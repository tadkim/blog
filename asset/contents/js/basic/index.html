<h1>Javascript Tutorial</h1>

<h2>자료형과 변수</h2>

<p>프로그래밍의 가장 중요한 역할은 데이터 조작이다. 데이터(data)는 컴퓨터 프로그램에 저장된 정보를 가리킨다.</p>

<h3>자바스크립트의 기본 자료형</h3>

<ol>
<li>숫자</li>
<li>문자열 : 텍스트</li>
<li>불리언 : 참(true)또는 거짓(false)가 될 수 있는 값.</li>
</ol>

<h3>숫자와 연산자</h3>

<p>자바스크립트로 기본 수칙 연산을 수행할 수 있는데, 이러한 계산을 할때 연산자(Operator)가 사용된다.
-  Operator : +, -, *, /</p>

<h3>변수(Varialble)</h3>

<p>자바스크립트에서는 변수를 써서 값에 이름을 붙일 수 있다.</p>

<h3>논리 연산자</h3>

<p>숫자를 +, -, *, / 등의 산술 연산자와 함께 사용하듯이, 불리언 값은 불리언 연산자와 함께 쓸 수 있다. 자바스크립트에는 <code>&amp;&amp;</code>, <code>||</code>, <code>!</code> 이렇게 세 가지 불리언 연산자가 있다.</p>

<ol>
<li><code>&amp;&amp;</code> (AND) : 두 가지 불리언 값이 모두 참인가?</li>
<li><code>||</code> (OR) : 두 가지 불리언 값중 하나라도 참인가?</li>
</ol>

<p><strong>논리연산자 결합하기</strong>
숫자 계산시 <code>*</code>를 <code>+</code>보다 먼저 계산하는 것 처럼 불리언 연산자에서는 <code>&amp;&amp;</code>를 <code>||</code>보다 먼저 계산하게 되어있다.</p>

<p><strong>이중 등호 &amp; 삼중 등호</strong>
- 이중 등호 : 비슷한 값이다. (equal-ish)
- 삼중 등호 : 동일하다. (equal to) : 자료형 유형이 다른 두 값이 같은지?</p>

<p><strong>0은 <code>false</code>인가</strong>?</p>

<pre><code>0 == false; //true
“false” === false; //false
</code></pre>

<p>0과 false는 같지만, 0과 문자열 “false”는 같지 않다고 나온다.</p>

<h3>undefined와 null</h3>

<p>이 두가지 모두 “아무것도 아니다(nothing).”이라는 뜻이다. 하지만 의미하는 바가 약간 다르다.
- <code>undefined</code>: 무언가를 위해 쓸 값이 없을 때 쓴다. 새로운 변수를 만들어놓고 어떠한 값도 입력하거나 할당하지 않았다면 <code>undefined</code>가 된다.
- <code>null</code> : 값을 비워두었다는 의도를 명확히 알리고 싶을 때 쓴다.</p>

<p>일부러 <code>undefined</code>를 넣을 일은 흔치 않다. 따라서 변수에 아무것도 넣지 않아야 할 때는 <code>null</code>을 넣자.</p>

<h2>객체</h2>

<hr />

<p>자바스크립트 객체는 배열과 매우 비슷하다. 하지만 서로 다른 원소에 접근할 때, 배열에서는 숫자를 사용하는 것과 달리 객체에서는 문자열을 사용한다. 이러한 문자열을 <code>키(Key)</code> 또는 <code>프로퍼티(Property)</code>라 부르고, 이들이 가리키는 원소를 <code>값</code>이라고 부른다. 이러한 정보 조각이 함께 있으면 이를 <code>키-값 쌍(Key-value pair)</code>이라고 부른다.</p>

<p><strong>배열과 객체의 비교</strong>
* 배열 : 여러 개체를 표현할 때 사용. 원소의 순서가 있음.
* 객체 : 다양한 <code>특성</code>이나 속성이 있는 하나의 개체를 표현할 때 사용. 원소의 순서가 없음.</p>

<h2>객체만들기</h2>

<pre><code>var 고양이 = {
  "다리":3,
  "이름":"야옹이",
  "무늬":"얼룩무늬"
};
</code></pre>

<p>*<code>고양이</code>라는 이름의 변수를 만들고 세 가지 키-값 쌍이 들어있는 객체를 할당했다.
* 객체를 만들 때는 중괄호 <code>{}</code>를 사용한다.
* <strong>중괄호와 그 사이에 있는 모든 것을 가리켜 객체 리터럴</strong>이라 한다.</p>

<blockquote>
  <p>객체 리터럴(Object literal)은 모든 객체를 한번에 작성해서 객체를 만드는 방법이다.
리터럴 이라는 말은 여러 단계를거치지 않고 모든 값을 한 번에 작성한다는 뜻.</p>
</blockquote>

<p><strong>따옴표가 없는 <code>키(Key)</code>괜찮을까?</strong></p>

<pre><code>var 고양이 = {
  다리:3,
  이름:"야옹이",
  무늬:"얼룩무늬"
};
</code></pre>

<p>위에서와 달리 각 키 앞뒤로 따옴표를 쓰지 않았는데, 그래도 된다. 자바스크립트는 이미 <code>키</code>가 문자열 이라는 것을 알고 있기 때문에 따옴표를 생략할 수 있다. </p>

<h2>객체 안의 값에 접근하기</h2>

<pre><code>고양이["이름"]; //야옹이
</code></pre>

<ul>
<li>객체도 배열처럼 각괄호를 써서 객체 안의 값에 접근가능.</li>
<li><p>배열에서 색인은 숫자 였으나, 객체에서는 문자로 사용.</p>

<p>고양이.이름; //야옹이</p></li>
<li><p>객체 리터럴 작성시 키 앞뒤로 따옴표 여부를 선택 가능했던 것 처럼, 키에 접근할 때도 따옴표 여부를 선택가능하다. </p></li>
<li>단, 따옴표를 넣지 않을경우 위의 코드와 같이 접근 코드의 모양이 약간 달라진다.</li>
<li>이와 같은 표기법을 <code>점 표기법(dot notation)</code>이라고 부른다. </li>
</ul>

<h2>객체 안의 모든 키 목록을 받아오기 <code>Object.keys()</code></h2>

<p><code>Object.keys(어떤객체)</code>를 입력하면, <strong>해당 객체에 포함된 모든 키가 반환된다.</strong></p>

<pre><code>var dog = { name:"howl", age:6, color:"white", sound:"mungmung" };
Object.keys(dog); // ["name", "age", "color", "sound];
</code></pre>

<p><strong>객체에 <code>점 표기법</code>활용하여 <code>키</code> 추가하기</strong></p>

<pre><code>var cat = {};
cat.leg =  4;
cat.name = "wiki";
cat.color = "Black";
</code></pre>

<h2>반복문</h2>

<hr />

<p><strong><code>While</code> 반복문</strong>
*<code>While</code> 반복문은 주어진 조건이 <code>true</code>로 있는 동안은 실행코드를 반복해서 실행.
*<code>While</code> 반복문을 작성한다는 것은 "이 조건이 <code>true</code>인 동안에는 계속 실행해줘`"라고 말하는 셈.</p>

<pre><code>var dogCount = 0;
while(dogCount &lt; 10){
  console.log("Dog Count : " + dogCount + ".");
  dogCount++;
}
</code></pre>

<h2>행맨 게임 제작</h2>

<p><strong>플레이어와 상호작용 : <code>Prompt</code></strong>
<code>Prompt</code>: 사용자가 입력할 수 있는 팝업창을 자바스크립트에서는 <code>프롬프트(Prompt)</code>라고 한다.</p>

<p><strong>프롬프트 만들기</strong></p>

<pre><code>var name  = prompt("이름을 입력해주세요");
console.log("안녕하세요, " + name + "님.");
</code></pre>

<p><img src="http://whiteleo.azurewebsites.net/colony/markdown/javascript/Javascript_tutorial_prompt1.png" alt="Javascript<em>tutorial</em>prompt1" title="" /></p>

<p><img src="http://whiteleo.azurewebsites.net/colony/markdown/javascript/Javascript_tutorial_prompt2.png" alt="Javascript<em>tutorial</em>prompt1" title="" /></p>

<p><img src="http://whiteleo.azurewebsites.net/colony/markdown/javascript/Javascript_tutorial_prompt3.png" alt="Javascript<em>tutorial</em>prompt1" title="" /></p>

<p><img src="http://whiteleo.azurewebsites.net/colony/markdown/javascript/Javascript_tutorial_prompt4.png" alt="Javascript<em>tutorial</em>prompt1" title="" /></p>

<blockquote>
  <p><code>묵시적 형변환(Coercion)</code> : 보통 때 <code>null</code>은 문자열이 아니지만, <code>null</code>을 사용하려고하면~~(조금더 정확하게 이해필요)~~ 자바스크립트는 <code>null</code>을 문자열로 변환해 <code>"null"</code>로 만든 뒤에 사용한다. <strong>이렇게 자바스크립트가 스스로 어떤 값을 다른 자료형으로 변환하는 것을 가리켜 <code>묵시적 형변환(Coercion)</code>이라 한다.</strong></p>
</blockquote>

<p><em>* Yes or No 질문에 답하기 *</em>
<code>confirm</code>함수는 사용자가 텍스트 입력상자 없이 예, 아니오와 같은 <code>boolean</code>질문 형태를 만들 때 사용한다. 
* 사용자가 <code>confirm</code>창에서 선택한 답은 boolean값으로 반환한다. (확인은 <code>true</code>, 취소는 <code>false</code>)</p>

<pre><code>var likeCats = confirm("고양이를 좋아하세요?");
if(likeCats){
  console.log("고양이를 좋아하시는 군요!");
} else {
  console.log("괜찮아요 그래도 좋은 사람이니까요.");
}
</code></pre>

<p><em>* <code>Alert</code>, 플레이어에게 정보 알려주기. *</em>
    alert("자바스크립트는 인내가 필요하다.);</p>

<p><strong><code>console.log</code>가 아닌 <code>Alert</code>을 사용하는 이유</strong></p>

<p>자바스크립트 해석기는 <code>alert</code>, <code>prompt</code>, <code>confirm</code> 사용시 동작을 멈추고 사용자가 해당 내용에대한 기능을 실행할 때 까지 기다린다.</p>

<h2>함수(Function)</h2>

<hr />

<pre><code>function(){
  console.log("함수의동작"); // 중괄호 사이의 코드는 함수의 몸체(function body)라고한다.
}
</code></pre>

<p><em>*함수에 <code>인수(argument)</code> 전달하기 *</em>
함수의 <code>인수(argument)</code>를 사용하면 특정한 값을 전달하여 호출할 때마다 함수의 동작을 바꿀 수 있다.</p>

<pre><code>var 인사하기 = function(names){
  console.log("안녕하세요 " + names + " 님!");
}
</code></pre>

<p><strong>Ex) 무작위 단어를 고르는 함수</strong></p>

<p>무작위 단어를 고르는 함수를 앞서 배웠는데, 그 형태는 다음과 같았다.
     단어목록[Math.floor(Math.random()*단어목록.length)];
이 코드를 함수형태로 바꾸면 다음과 같다.
    var randomSelector = function(verbList){
        return verbList[Math.floor(Math.random() * verbList.length)];
    }</p>

<p><em>*Return을 사용해 함수 빨리 끝내기 *</em>
자바스크립트 해석기는 함수내에서 <code>return</code>을 만나면 함수 몸체에 코드가 얼마나 남아있든 상관없이 함수를 바로 끝내버린다.</p>

<blockquote>
  <p>이런 특성 덕분에 <code>return</code>은 함수에 전달된 인수가 올바르지 않을 때 함수를 일찌감치 종료시키는 용도로도 사용한다.
    var threeVerb = function(names){
      if(names.length &lt; 3){
        return;
      }
      return "이름의 세 번째 글자는 '" + names[2] + "' 입니다.";
    }</p>
</blockquote>

<p>이렇게 함수를 작성한 후 다음과 같이 실행한다.
    threeVerb("자바스크립트"); //"이름의 세 번째 글자는 '스' 입니다.";</p>

<h2>함수 표현식(function expression)과 함수 선언문(function declaration)</h2>

<p><strong>함수 표현식 = 긴 작성법</strong>
    var x2 = function(numbers){
      return numbers * 2;
    }
<strong>함수 선언문 = 짧은 작성법</strong>
    function x2(numbers){
      return numbers * 2;
    }
<code>함수 선언문</code>에서는 <code>function</code>이라는 키워드가 먼저 나왔다. 여기서 자바스크립트는 <code>x2</code>라는 변수를 자동으로 만들어낸다.</p>

<h2>객체지향 프로그래밍</h2>

<hr />

<p>다음으로 <code>객체지향 프로그래밍(Object-oriented programming)</code>에 대해 알아보자. <code>객체지향 프로그래밍</code>은 프로그램을 설계하고 작성하는 방법 중에 하나로, 프로그램에서 사용되는 주요 부분을 모두 객체로 표현한다. 예를 들어, 자동차 레이싱 게임을 만든다면 객체지향 프로그래밍 기법을 사용해 각 자동차를 하나의 객체로 표현하고 같은 프로퍼티와 기능을 가진 자동차 객체를 여러개 만든다.[^1]</p>

<p><em>* 객체에 <code>메서드(Method)</code> 추가하기</em>*
우선, 설명을 위해 다음과 같은 객체가 존재한다고 하자.
    var dog = {
      name:"yark",
      legs: 4,
      isAwesome: true
    };</p>

<p>객체를 만들고 나면 <code>점 표기법</code>을 통해 객체의 <code>프로퍼티</code>에 접근할 수 있었다.
    dog.name;
    //"yark"</p>

<p>또는 새로운 프로프터리르 객체에 추가할 수도 있었다.
    dog.age = 5;
    dog;
    //Object { name:"yark", legs:4, isAwesome:true, age:6 }</p>

<p><strong>함수를 객체의 프로퍼티로 저장할 때, 이 프로퍼티를 가리켜 <code>메서드(Method)</code>라고 부른다.</strong>
사실 우리는이미 배열의 <code>join</code> 메서드나 문자열의 <code>toUpperCase</code>와 같이 자바스크립트에 내장된 메서드를 사용했다.</p>

<pre><code>//`dog`객체에 `bark`라는 프로퍼티를 추가하고 함수를 이 프로퍼티에 할당한다.
dog.bark = function(){
  console.log("왈왈! 내 이름은 " + this.name + "닷!");
};
dog.bark();
//왈왈! 내 이름은 yark닷!
</code></pre>

<p><strong>this 키워드 사용하기</strong>
<strong>메서드 안에서는 <code>this</code>키워드를 사용해서 현재 메서드에 호출되고 있는 객체를 참조할 수 있다.</strong> 예를 들어, <code>dog</code>객체의 bark 메서드를 호출할 때 <code>this</code>는 <code>dog</code>객체를 참조하고 따라서 <code>this.name</code>은 <code>dog.name</code>을 참조한다. <code>this</code>키워드 덕분에 메서드는 더 유용해진다. <strong>똑같은 메서드를 여러 객체에 추가한 뒤 어느 객체에서 메서드를 호출하더라도 메서드 안에서 자신이 호출된 객체의 프로퍼티에 접근할 수 있기 때문이다.</strong></p>

<p><strong>Ex) 여러 객체에서 똑같은 메서드 사용하기</strong>
<code>speak</code>이라는 함수를 만들어 여러 종료의 동물을 의미하는 객체에서 사용해보는 예제이다.
어떤 객체에서 <code>speak</code>를 호출할 때, 이 메서드는 그 객체의 <code>이름(this.name)</code>을 사용하고 그 동물이 <code>내는소리(this.sound)</code>를 메시지로 출력한다.</p>

<pre><code>var speak = function(){
  console.log(this.sound + "! 내 이름은 " + this.name + "닷!");
};
</code></pre>

<p>그 다음, 다른 객체를 만들어서 <code>speak</code>를 메서드로 추가해 본다.</p>

<pre><code>var cat = {
  sound:"yaong",
  name:"nyanya",
  **speak:speak** //미리 만들어둔 speak함수를 프로퍼티에 할당하는 부분.
};
</code></pre>

<p>이제 <code>cat.speak</code>은 메서드가 되었으므로, <code>cat.speak()</code>와 같이 호출할 수 있게 되었다. 이 메서드는 <code>this</code>를 사용하고 있어 <code>cat</code>객체에서 호출되면, <code>cat</code>객체의 프로퍼티에 접근한다. 다음 실행결과를 보자</p>

<pre><code>cat.speak();
//yaong! 내 이름은 nyanya닷!;
</code></pre>

<p><code>cat.speak</code> 메서드를 호출하면, 이 메서드는 <code>cat</code>객체에서 "yaong"이 저자되어있는 <code>this.sound</code>프로퍼티와 "nyanya"가 저장되어 있는 <code>this.name</code>프로퍼티의 값을 가져온다.</p>

<p><strong>메서드 안에 있는 <code>this</code>는 나타날 때마다 메서드를 호출한 객체를 참조한다.</strong> 다시 말해, <code>cat.speak()</code>를 호출하면 <code>cat</code>을 참조하고 <code>dog.speak()</code>을 호출하면 <code>dog</code>를 참조한다.</p>

<h2>생성자를 사용한 객체 만들기</h2>

<hr />

<p>자바스크립트의 <code>생성자(Constructor)</code>는 객체를 만들고 객체에 프로퍼티와 메서드를 추가하는 함수이다. <code>생성자</code>를 객체를 만드는데 특화된 기계로 생각해보자. 생성자를 만들고 나면 이를 사용해 똑같은 객체를 얼마든지 대량으로 만들어 낼 수 있다.</p>

<p><strong>생성자 살펴보기</strong>
생성자는 호출될 때마다 새로운 객체를 만들고 이 객체에 프로퍼티를 추가합니다.
    var car = new Car(100, 200);</p>

<ul>
<li>car : 새로 만들어진 객체는 이 변수에 저장된다.</li>
<li>Car : 생성자의 이름</li>
<li>(100, 200) : 생성자에 전달하는 인수</li>
</ul>

<p><em>Ex)Car 생성자 만들기</em></p>

<pre><code>&lt;script&gt;
  var Car = function(x,y){
    this.x = x;
    this.y = y;
  };
&lt;/script&gt;
</code></pre>

<p><strong>생성자 호출방법</strong>
앞에서 만든 <code>Car</code>생성자를 호출하는 방법을 살펴보자
    var tesla = new Car(10, 20);
    tesla;
    ///Car { x:10, y:20 }</p>

<p><img src="http://whiteleo.azurewebsites.net/colony/markdown/JavaScript/constructor_test.png" alt="constructor_test" title="" />
생성자 코드를 활용해 만든 변태적인(?)예제</p>

<p><strong>자바스크립트 생성자 사용해 객체 설정 예제</strong></p>

<p><a href="http://whiteleo.azurewebsites.net/colony/example/javascript/constructor.html">[Javascript Example] Constructor : Make(or Set) Object.</a></p>

<hr />

<h2><code>프로토타입(Prototype)</code>을 사용해 객체 설정하기</h2>

<p>이모티콘을 조금 더 객체 지향적인 방법으로 그리기 위해 이모티콘 객체에 <code>draw</code>메서드를 추가하고자 한다. 그리고 <code>drawEmoticon(emoticon)</code>대신 <code>emoticon.draw()</code>를 사용해 이모티콘을 그릴 것이다. </p>

<p>객체지향 프로그래밍에서 객체의 고유 기능은 메서드로 두는 것이 좋다. 앞예제에서 <code>drawEmoticon</code>함수는 이모티콘 객체에만 사용되므로 <code>drawEmoticon</code>을 분리된 함수로 두는 것 보다는 이모티콘 객체의 일부로 포함하는 편이좋다.</p>

<p><strong>"자바스크립트의 <code>프로토타입(Prototype)</code>을 사용하면, 여러 객체의 똑같은 기능을 추가하기 좋다."</strong></p>

<blockquote>
  <p>모든 생성자에는 <code>Prototype</code> 프로퍼티가 있는데, 여기에 메서드를 추가할 수 있다. 생성자의 <code>Prototype</code>에 추가된 메서드는 그 생성자로 만든 모든 객체에서 사용할 수 있다.</p>
</blockquote>

<pre><code>//`prototype` 프로퍼티에 메서드를 추가하는 방법
Emoticon.prototype.draw = function(){
  //메서드의 몸체
}
</code></pre>

<p><strong>Emoticon 프로토타입에 <code>draw</code>메서드 추가하기</strong>
이제 Emoticon 생성자를 통해 만들어진 모든 객체에서 <code>draw</code>메서드를 사용할 수 있도록 <code>draw</code>메서드를 Emoticon.prototype에 추가해보자. 
<em>(위에서 사용했던 생성자 예제 코드를 복사하거나 다른이름으로 저장한 후 관련 영역에 대해서만 수정하는 방법으로 진행한다.</em></p>

<pre><code>//생성자 작성
var Emoticon = function(x,y){
  this.x = x;
  this.y = y;
};

Emoticon.prototype.draw = function(){
  var emoticonHTML = '&lt;img src="http://whiteleo.azurewebsites.net/colony/markdown/javascript/emoticon.png"&gt;';
  this.emoticonElment = $(emoticonHTML);

  this.emoticon.css({
    position:"absolute",
    left:this.x,
    top:this.y
  });

  $("body").append(this.emoticonElement);
};

var kakaotalk = new Emoticon(20, 20);
var linetalk = new Emoticon(100, 2bwbi00);

kakaotalk.draw();
linetalk.draw();
</code></pre>

<p><strong><code>moveRight</code> 메서드 추가하기</strong>
동일한 방법으로 다른 효과를 주기위해 <code>moveRight</code>메서드를 추가해보자.</p>

<pre><code>Emoticon.prototype.moveRight = function(){
  this.x += 5;
  this.emoticonElement.css({
    left:this.x,
    top:this.y
  });
};
</code></pre>

<p>이 코드처럼 <code>moveRight</code> 메서드를 <code>Emoticon.prototype</code>에 저장하면 <code>Emoticon</code>생성자를 사용해서 만들어진 모든 객체가 이 메서드를 호출 할 수 있다. <code>this.x += 5</code>를 실행하여 이모티콘의 <code>x</code>값에 <code>5</code>를 더하여 이모티콘을 5픽셀 이동시킨다. </p>

<p>웹 브라우저의 콘솔에서 <code>moveRight</code>를 실행 해볼 수 있다.
    emoticon.moveRight();
    emoticon.moveRight();
    emoticon.moveRight();</p>

<p><code>emoticon.moveRight()</code>를 입력할 때마다 이모티콘이 오른쪽으로 5픽셀만큼 움직여야 한다.</p>

<p><strong>자바스크립트 프로토타입 사용해 객체 설정예제 결과화면</strong></p>

<p><a href="http://whiteleo.azurewebsites.net/colony/example/javascript/constructor_prototype.html">[Javascript Example] Constructor : Make(or Set) Prototype Object.</a></p>

<p>[^1]: 닉 모건 지음, 김태곤, 이미령 옮김, "누구나 쉽게 배우는 자바스크립트", 비제이퍼블릭, 2015, 187쪽.</p>